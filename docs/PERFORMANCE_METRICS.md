# 📊 성능 지표 & 테스트 계획

> **목표**: MVP Phase 1 출시 전 성능 & 품질 표준 정의
> **성공 기준**: 모든 지표 Green 상태 달성

---

## 🎮 게임플레이 지표

### 전투 응답 속도

```
목표: < 200ms

측정 항목:
├─ 스킬 선택 → 화면 업데이트: < 100ms
├─ WebSocket 메시지 수신 → 화면 변경: < 200ms
├─ 턴 진행 애니메이션: < 500ms
└─ 결과 화면 표시: < 300ms

테스트 환경:
├─ 로컬 (최상): < 50ms
├─ LAN (최적): < 100ms
├─ 일반 와이파이: < 150ms
├─ 모바일 3G: < 300ms (허용)

실패 기준:
└─ 평균 > 300ms 이면 최적화 필요
```

### 프레임 속도 (FPS)

```
목표: 60 FPS (모바일), 120 FPS (데스크톱)

측정 항목:
├─ 전투 화면: 60 FPS 유지
├─ 메뉴 화면: 60 FPS 유지
├─ 애니메이션: 60 FPS 유지
└─ 로딩: 최소 30 FPS

환경별 목표:
├─ 고사양 PC: 120 FPS
├─ 중간 PC: 60 FPS
├─ 모바일: 60 FPS
└─ 저사양 기기: 30 FPS (최소)

테스트 기기:
├─ iPhone 12
├─ Samsung Galaxy S20
├─ MacBook Pro 2019
├─ Windows 10 (GTX 1660)
└─ Windows 10 (내장 그래픽)
```

### 로딩 시간

```
목표:
├─ 게임 시작: < 3초
├─ 화면 전환: < 500ms
├─ 던전 진입: < 2초
└─ 데이터 로드: < 1초

측정:
├─ 첫 요청 → 게임 화면: 타이머
├─ 메뉴 → 전투 화면: 타이머
└─ 네트워크 요청 시간: 로그

최적화:
├─ 번들 최적화 (Code Splitting)
├─ 이미지 최적화 (WebP, 압축)
├─ 리소스 캐싱
└─ 비동기 로딩
```

---

## 🌐 네트워킹 성능

### 동시 접속 수

```
목표: 100 파티 = 200명 플레이어 동시 접속

측정:
├─ 서버 CPU: < 80%
├─ 메모리: < 70%
├─ 대역폭: < 10Mbps
└─ 응답 시간: < 200ms

부하 테스트:
├─ 1 파티: baseline
├─ 10 파티: 안정성 확인
├─ 50 파티: 최적화 필요점 찾기
├─ 100 파티: 최대 용량 확인
└─ 150 파티: 장애 테스트

실패 기준:
├─ 100 파티에서 응답 > 500ms
├─ 메모리 누수 발견
└─ 50 파티에서 이상 현상
```

### 네트워크 신뢰성

```
목표: 99.9% 업타임 (월 0.43시간 다운 허용)

측정:
├─ 서버 가용성: 99.9%
├─ 패킷 손실율: < 1%
├─ 연결 재시도 성공율: > 95%
└─ 에러율: < 0.1%

모니터링:
├─ 24/7 서버 상태 감시
├─ 자동 장애 감지
├─ 자동 인스턴스 재시작
└─ 관리자 수동 개입

실패 기준:
├─ 99.5% 이하 가용성
├─ 패킷 손실율 > 5%
└─ 재시도 성공 < 80%
```

---

## 💾 메모리 & 저장소

### 클라이언트 메모리 사용

```
목표: < 50MB (게임 실행 중)

측정:
├─ 메모리 프로파일러로 추적
├─ 네이티브 메모리
├─ 이미지 메모리
└─ 음성 메모리

환경별:
├─ 데스크톱: < 200MB 허용
├─ 모바일: < 50MB 필수
└─ 저사양: < 30MB

메모리 누수 테스트:
├─ 1시간 연속 플레이
├─ 메모리 그래프 안정적?
└─ 누수 없음 확인

실패 기준:
├─ 1시간 후 메모리 > 60MB
├─ 메모리 지속적 증가
└─ 장시간 플레이 후 크래시
```

### 저장소 크기

```
목표: < 500MB 전체 설치

구성:
├─ 게임 코드: 50MB
├─ 이미지/UI: 150MB
├─ 음성/음악: 100MB
├─ 데이터 파일: 50MB
└─ 런타임: 50MB

최적화:
├─ 이미지 압축
├─ 오디오 스트리밍
├─ 불필요한 파일 제거
└─ 번들 크기 모니터링
```

---

## 🔒 보안 테스트

### 취약점 스캔

```
필수 테스트:
├─ SQL Injection 테스트
├─ XSS 취약점 스캔
├─ CSRF 토큰 검증
├─ 인증 우회 테스트
└─ 권한 상승 테스트

도구:
├─ OWASP ZAP (자동화)
├─ Burp Suite (수동)
├─ Snyk (의존성)
└─ SonarQube (코드 품질)

기준:
├─ Critical: 0건 허용 불가
├─ High: 0건 허용 불가
├─ Medium: 최대 3건
└─ Low: 제한 없음
```

### API 보안 테스트

```
검증 항목:
├─ JWT 검증 (모든 엔드포인트)
├─ Rate Limiting 작동
├─ 입력 검증 (모든 필드)
├─ 출력 인코딩 (응답)
└─ 데이터 암호화 (전송 중)

테스트 방법:
├─ Postman으로 자동 테스트
├─ 수동 공격 시뮬레이션
├─ 데이터 변조 테스트
└─ 토큰 탈취 시나리오
```

---

## 🧪 기능 테스트

### 게임플레이 기본 흐름

```
테스트 케이스:

✅ 로그인 & 캐릭터 선택
├─ 새 계정 생성
├─ 기존 계정 로그인
├─ 캐릭터 선택 (4개 모두)
└─ 로그아웃 & 재로그인

✅ 게임 시작
├─ Chapter 1 시작
├─ 첫 번째 버그 전투
├─ 승리 & 보상
└─ 다음 버그 진행

✅ 전투 시스템
├─ 스킬 실행 가능?
├─ 데미지 계산 정확?
├─ 상태이상 적용?
├─ 턴 시스템 작동?
└─ 승리/패배 판정?

✅ 멀티플레이
├─ 파티 매칭
├─ WebSocket 연결
├─ 동시 행동 동기화
├─ 시너지 보너스
└─ 결과 분배
```

### 데이터 무결성

```
테스트:
├─ 경험치 계산 정확성
├─ 골드 보상 정확성
├─ 아이템 드롭 확률
├─ 데이터 저장/로드
├─ 캐릭터 진행 저장
└─ 서버-클라이언트 싱크

검증:
├─ 1000회 계산 검증
├─ 통계적 드롭 분석
├─ 데이터 베이스 직접 확인
└─ 롤백 테스트 (복구 가능?)
```

---

## 🎯 게임 밸런싱 검증

### 클래스 밸런싱

```
목표: 모든 클래스 win rate 45-55%

측정:
├─ 각 클래스별 승률
├─ 평균 플레이 시간
├─ 선호도 (선택율)
└─ 이탈율

데이터 수집:
├─ 100명 이상 플레이 필요
├─ 각 클래스당 20회 이상
├─ 모든 Chapter 포함
└─ 멀티플레이 포함

조정 기준:
├─ 55% 초과: -5% 약화
├─ 45% 미만: +5% 강화
└─ 45-55%: 그대로
```

### 난이도 곡선

```
목표: 각 Chapter 완주 시간 일정

측정:
├─ Chapter 1: 60분
├─ Chapter 2: 90분
├─ Chapter 3: 150분
├─ Chapter 4: 180분
└─ 총합: 480분 (8시간)

편차 허용:
├─ ±20분: 허용
├─ ±40분: 조정 고려
└─ ±60분 이상: 재설계

이탈율:
├─ Chapter 1: < 10%
├─ Chapter 2: < 15%
├─ Chapter 3: < 20%
└─ Chapter 4: < 25%
```

### 보상 밸런싱

```
목표: 경험치 곡선 달성

측정:
├─ 5시간 플레이 = 레벨 10-15
├─ 드롭율 기대값 달성
├─ 골드 수입 = 지출
└─ 아이템 프로그레션

검증:
├─ 100명 완주 데이터 수집
├─ 평균값 계산
├─ 분포 분석
└─ 조정 필요 여부
```

---

## 📈 KPI (핵심 성과 지표)

### 출시 첫 주

```
DAU (Daily Active Users):
├─ 목표: 5000
├─ 최저 수용: 3000
└─ 실패: < 1000

평균 세션 시간:
├─ 목표: 60분
├─ 최저 수용: 30분
└─ 실패: < 15분

이탈율 (7일):
├─ 목표: < 30%
├─ 수용: < 40%
└─ 실패: > 50%

재설치율:
├─ 목표: > 5%
├─ 수용: > 3%
└─ 실패: < 2%
```

### 첫 달 (30일)

```
MAU (Monthly Active Users):
├─ 목표: 20000
├─ 최저 수용: 15000
└─ 실패: < 10000

1-7일 재방문율:
├─ 목표: > 60%
├─ 수용: > 50%
└─ 실패: < 30%

완주율 (모든 엔딩):
├─ Good Ending: 30%
├─ Normal Ending: 50%
├─ Bad Ending: 15%
├─ Secret Ending: 3%
└─ 불완주: 2%

컨텐츠 완성도:
├─ 1개 엔딩: 50%
├─ 2개 엔딩: 25%
├─ 3개 이상: 10%
```

---

## 🐛 버그 추적

### 버그 분류

```
Critical (즉시 해결):
├─ 게임 크래시
├─ 저장 데이터 손상
├─ 보안 취약점
└─ 주요 기능 불작동

High (24시간 내):
├─ 심각한 밸런싱 문제
├─ 진행 불가 상황
└─ UI 완전 오류

Medium (일주일 내):
├─ 부분적 기능 오류
├─ 성능 저하
└─ 텍스트 오류

Low (다음 패치):
├─ 타이핑 오류
├─ 레이아웃 미세 조정
└─ 기타 개선사항
```

### 버그 추적 프로세스

```
1. 리포트 (커뮤니티)
   ├─ 버그 수집
   └─ 우선순위화

2. 확인 (개발팀)
   ├─ 재현 가능?
   ├─ 원인 파악
   └─ 우선순위 재검토

3. 수정 (개발자)
   ├─ 패치 개발
   ├─ 테스트
   └─ 배포

4. 확인 (QA)
   ├─ 수정 확인
   ├─ 재발 방지
   └─ 회귀 테스트

5. 공개 (커뮤니티)
   ├─ 패치노트 작성
   ├─ 배포
   └─ 피드백 수집
```

---

**상태**: 🟢 성능 지표 & 테스트 계획 완성
**마지막 업데이트**: 2026-02-05
