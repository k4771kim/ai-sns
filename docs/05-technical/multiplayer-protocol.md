# ğŸ® ë©€í‹°í”Œë ˆì´ í”„ë¡œí† ì½œ (MVP Edition)

> **í•µì‹¬**: 2ëª… í˜‘ë ¥ ê²Œì„ì˜ ì‹¤ì‹œê°„ ë™ê¸°í™”

---

## ğŸ“‹ ëª©ì°¨

1. [ì² í•™](#1-ì² í•™)
2. [í„´ ì‹œìŠ¤í…œ](#2-í„´-ì‹œìŠ¤í…œ--ë™ì‹œ-í–‰ë™)
3. [WebSocket ë©”ì‹œì§€](#3-websocket-ë©”ì‹œì§€-í˜•ì‹)
4. [íŒŒí‹° ë§¤ì¹­](#4-íŒŒí‹°-ë§¤ì¹­)
5. [ë™ê¸°í™” ì „ëµ](#5-ë™ê¸°í™”-ì „ëµ)
6. [ì—ëŸ¬ ì²˜ë¦¬](#6-ì—ëŸ¬-ì²˜ë¦¬)

---

## 1. ì² í•™

### ğŸ¯ í•µì‹¬ ì›ì¹™

```
"í˜‘ë ¥"ì´ í•µì‹¬ì¸ ê²Œì„
â”œâ”€ ê²½ìŸì´ ì•„ë‹˜ (PvP ì•„ë‹˜)
â”œâ”€ ê°™ì€ ì ì„ í•¨ê»˜ ë¬´ì°Œë¦„
â”œâ”€ ì„œë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ì‹œë„ˆì§€ í™œìš©
â””â”€ í”Œë ˆì´ì–´ ê°„ ì‹ ë¢° í•„ìš”
```

### ğŸ® ê²Œì„ ê²½í—˜

```
Player A (Frontend Mage) â”€â”€â”
                           â”œâ”€â†’ ê°™ì€ ì „íˆ¬ í™”ë©´
Player B (Backend Knight) â”€â”˜

ê°ì ë…ë¦½ì ìœ¼ë¡œ ìŠ¤í‚¬ ì„ íƒ (10ì´ˆ ì œí•œ)
â†“
ë™ì‹œ ì‹¤í–‰ (ìˆœì„œ ì—†ìŒ, ëª¨ë‘ ë™ì‹œ)
â†“
ê²°ê³¼ ê³µê°œ (ì„œë¡œì˜ ì„ íƒ í™•ì¸)
```

---

## 2. í„´ ì‹œìŠ¤í…œ = ë™ì‹œ í–‰ë™

### â±ï¸ í„´ í”Œë¡œìš°

```
[Turn Start]
   â†“
[10ì´ˆ Action Phase]
â”œâ”€ Player A: ìŠ¤í‚¬ ì„ íƒ (ë˜ëŠ” ì•„ì´í…œ)
â”œâ”€ Player B: ìŠ¤í‚¬ ì„ íƒ (ë˜ëŠ” ì•„ì´í…œ)
â””â”€ (ì„ íƒ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ 10ì´ˆ í›„ ì§„í–‰)
   â†“
[Action Resolution]
â”œâ”€ ë‘ í”Œë ˆì´ì–´ í–‰ë™ ë™ì‹œ ì‹¤í–‰
â”œâ”€ ì  ë°˜ê²© í¬í•¨
â””â”€ ê²°ê³¼ ë™ê¸°í™”
   â†“
[Broadcast Results]
â”œâ”€ ì–‘ìª½ í”Œë ˆì´ì–´ì—ê²Œ ê²°ê³¼ ì „ì†¡
â”œâ”€ "Player A: console.log ë””ë²„ê·¸ (ë°ë¯¸ì§€ 45)"
â”œâ”€ "Player B: Database ì¿¼ë¦¬ (ë°ë¯¸ì§€ 52)"
â””â”€ "Enemy HP: 150 â†’ 53"
   â†“
[Turn End - Tech Debt +1]
```

### ğŸ• íƒ€ì´ë¨¸ ê´€ë¦¬

```
Action Phase: 10ì´ˆ
â”œâ”€ 0-9ì´ˆ: ì„ íƒ ê°€ëŠ¥
â”œâ”€ 9ì´ˆ: ê²½ê³  í‘œì‹œ "1ì´ˆ ë‚¨ìŒ!"
â”œâ”€ 10ì´ˆ: ìë™ í–‰ë™
â”‚  â”œâ”€ ì„ íƒí•¨: ê·¸ í–‰ë™ ì‹¤í–‰
â”‚  â”œâ”€ ì„ íƒ ì•ˆ í•¨: "ë°©ì–´" ìë™ ì„ íƒ
â”‚  â””â”€ ë‘ í–‰ë™ ëª¨ë‘ ì œì¶œë˜ì§€ ì•ŠìŒ: "ê¸°ë‹¤ë¦¬ê¸°" (í„´ ìŠ¤í‚µ)
â””â”€ í•´ê²°: WebSocket íƒ€ì„ìŠ¤íƒ­ìœ¼ë¡œ ê²€ì¦
```

### ğŸ¤ í˜‘ë ¥ ì‹œë„ˆì§€

```
ê°™ì€ íƒ€ê²Ÿ ì§‘ì¤‘ ì‹œ:
â”œâ”€ Player A: "console.log" (ì•½ì  í‘œì‹œ)
â”œâ”€ Player B: "Database ì¿¼ë¦¬" (í‘œì‹œëœ ì•½ì  ê³µê²©)
â””â”€ ê²°ê³¼: ì¶”ê°€ ë°ë¯¸ì§€ 30% + ì‹œë„ˆì§€ ë³´ë„ˆìŠ¤

ë‹¤ë¥¸ íƒ€ê²Ÿ ë¶„ì‚°:
â”œâ”€ Player A: Enemy 1 ê³µê²©
â”œâ”€ Player B: Enemy 2 ê³µê²©
â””â”€ ê²°ê³¼: ì¼ë°˜ ë°ë¯¸ì§€ (ë³´ë„ˆìŠ¤ ì—†ìŒ)

ìì‹ ì˜ í´ë˜ìŠ¤ ë³´ì™„:
â”œâ”€ Frontend Mage (ë†’ì€ ATK): ê³µê²©
â”œâ”€ Backend Knight (ë†’ì€ DEF): ë°©ì–´ + ë²„í”„
â””â”€ ì¡°í•© ì‹œ: "ê³µë°©ì¼ì²´" ë³´ë„ˆìŠ¤ +10% ATK/DEF
```

---

## 3. WebSocket ë©”ì‹œì§€ í˜•ì‹

### ğŸ“¤ í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„

#### 3.1 í„´ ì•¡ì…˜ (Player Action)

```json
{
  "type": "turn_action",
  "party_id": "party_abc123",
  "player_id": "player_xyz789",
  "action": {
    "type": "skill",
    "skill_id": "console_log_debug",
    "target": "enemy_0"
  },
  "timestamp": 1707115200000,
  "client_version": "1.0.0"
}
```

**í•„ë“œ ì„¤ëª…:**
- `party_id`: íŒŒí‹° ê³ ìœ  ID
- `player_id`: í”Œë ˆì´ì–´ ê³ ìœ  ID
- `action.type`: "skill" | "item" | "defend" | "wait"
- `action.skill_id`: ìŠ¤í‚¬/ì•„ì´í…œ ê³ ìœ  ID
- `action.target`: ëŒ€ìƒ (enemy_0 ~ enemy_2 ë˜ëŠ” ally, self)
- `timestamp`: í´ë¼ì´ì–¸íŠ¸ ë¡œì»¬ íƒ€ì„ (ì„œë²„ ê²€ì¦ìš©)
- `client_version`: í˜¸í™˜ì„± ê²€ì¦

---

#### 3.2 íŒŒí‹° ì°¸ì—¬ (Join Party)

```json
{
  "type": "join_party",
  "party_id": "party_abc123",
  "player_id": "player_xyz789",
  "player_name": "Frontend Master",
  "character_class": "frontend_mage",
  "character_level": 5
}
```

---

#### 3.3 ë‚˜ê°”ìŠµë‹ˆë‹¤ (Leave Party)

```json
{
  "type": "leave_party",
  "party_id": "party_abc123",
  "player_id": "player_xyz789",
  "reason": "disconnect" | "user_quit" | "timeout"
}
```

---

### ğŸ“¥ ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸

#### 3.4 í„´ ìƒíƒœ ì—…ë°ì´íŠ¸ (Turn State)

```json
{
  "type": "turn_state",
  "party_id": "party_abc123",
  "turn_number": 3,
  "phase": "action_phase",
  "time_remaining": 7,
  "players": [
    {
      "player_id": "player_xyz789",
      "name": "Frontend Master",
      "hp": 80,
      "max_hp": 100,
      "mp": 45,
      "max_mp": 60,
      "status": ["healthy"]
    },
    {
      "player_id": "player_abc456",
      "name": "Backend Warrior",
      "hp": 95,
      "max_hp": 120,
      "mp": 30,
      "max_mp": 40,
      "status": ["defending"]
    }
  ],
  "enemies": [
    {
      "enemy_id": "enemy_0",
      "name": "NullPointer Exception",
      "hp": 45,
      "max_hp": 80,
      "status": ["weakened", "exposed"]
    }
  ]
}
```

---

#### 3.5 í„´ ê²°ê³¼ (Turn Result)

```json
{
  "type": "turn_result",
  "party_id": "party_abc123",
  "turn_number": 3,
  "actions": [
    {
      "player_id": "player_xyz789",
      "action": "skill",
      "skill_name": "console.log ë””ë²„ê·¸",
      "target": "enemy_0",
      "damage": 0,
      "effect": "weakened",
      "description": "ì ì˜ ì•½ì ì„ í‘œì‹œí–ˆìŠµë‹ˆë‹¤ (1í„´)"
    },
    {
      "player_id": "player_abc456",
      "action": "skill",
      "skill_name": "Database ì¿¼ë¦¬",
      "target": "enemy_0",
      "damage": 52,
      "synergy_bonus": 30,
      "total_damage": 67,
      "description": "Database ì¿¼ë¦¬ë¡œ ì•½ì ì„ ê³µê²©í–ˆìŠµë‹ˆë‹¤! (+30% ì‹œë„ˆì§€ ë³´ë„ˆìŠ¤!)"
    }
  ],
  "enemy_actions": [
    {
      "enemy_id": "enemy_0",
      "action": "attack",
      "target": "player_xyz789",
      "damage": 25,
      "description": "ì ì´ ë°˜ê²©í–ˆìŠµë‹ˆë‹¤!"
    }
  ],
  "result_summary": {
    "players_total_damage": 67,
    "enemies_total_damage": 25,
    "synergy_triggered": true,
    "tech_debt_change": 1
  },
  "final_state": {
    "players": [
      {"player_id": "player_xyz789", "hp": 55},
      {"player_id": "player_abc456", "hp": 95}
    ],
    "enemies": [
      {"enemy_id": "enemy_0", "hp": 13}
    ]
  }
}
```

---

#### 3.6 ì „íˆ¬ ì¢…ë£Œ (Battle End)

```json
{
  "type": "battle_end",
  "party_id": "party_abc123",
  "result": "victory" | "defeat",
  "rewards": {
    "experience": 250,
    "gold": 75,
    "items": [
      {"item_id": "item_001", "name": "Common Bug Fix Scroll", "rarity": "common"}
    ]
  },
  "tech_debt_final": 45,
  "next_action": "choice" | "auto_continue"
}
```

---

## 4. íŒŒí‹° ë§¤ì¹­

### ğŸ” ë§¤ì¹­ ì‹œìŠ¤í…œ

```
Player A (Level 5, Frontend Mage)
   â†“
[Matchmaking Queue]
   â”œâ”€ ëŒ€ê¸°: 30ì´ˆ
   â”œâ”€ ê²€ìƒ‰ ë²”ìœ„: Level 4-6
   â””â”€ í´ë˜ìŠ¤: ì•„ë¬´ê±°ë‚˜ (ì‹œë„ˆì§€ ì¶”ì²œ)
   â†“
Player B (Level 5, Backend Knight)
   â†“
[Party Created]
   â”œâ”€ party_id: "party_abc123"
   â”œâ”€ created_at: 2026-02-05T10:30:00Z
   â””â”€ status: "waiting_for_chapter_select"
```

### ğŸ“ íŒŒí‹° ë¡œë¹„

```
[Party Lobby Screen]
â”œâ”€ Player 1: Frontend Mage (Level 5) âœ“ ì¤€ë¹„ë¨
â”œâ”€ Player 2: Backend Knight (Level 5) â³ ëŒ€ê¸° ì¤‘
â”œâ”€ [ì„ íƒ ê°€ëŠ¥]
â”‚  â”œâ”€ Chapter: 1 (ì¶”ì²œ)
â”‚  â”œâ”€ Floor: 1
â”‚  â””â”€ Difficulty: Normal
â””â”€ [ë²„íŠ¼]
   â”œâ”€ "ì‹œì‘í•˜ê¸°" (ì–‘ìª½ ëª¨ë‘ ì¤€ë¹„ ì‹œ í™œì„±í™”)
   â””â”€ "íŒŒí‹° ë‚˜ê°€ê¸°"
```

---

## 5. ë™ê¸°í™” ì „ëµ

### â±ï¸ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ì‹œê°„ ë™ê¸°í™”

```
ë¬¸ì œ: ë‘ í´ë¼ì´ì–¸íŠ¸ì˜ ì‹œê°„ì´ ë‹¤ë¥´ë©´?
â”œâ”€ Player A: 9ì´ˆì— ì„ íƒ â†’ 1ì´ˆ ë‚¨ìŒ
â”œâ”€ Player B: 10ì´ˆì— ì„ íƒ â†’ ì‹œê°„ ì´ˆê³¼?
â””â”€ ë¬¸ì œ: ê³µì •í•˜ì§€ ì•ŠìŒ

í•´ê²°ì±…: ì„œë²„ ê¸°ì¤€ ì‹œê°„
â”œâ”€ í´ë¼ì´ì–¸íŠ¸ â†’ ë¡œì»¬ íƒ€ì„ìŠ¤íƒ­ ì „ì†¡
â”œâ”€ ì„œë²„ â†’ ì„œë²„ íƒ€ì„ìœ¼ë¡œ ê²€ì¦
â”œâ”€ íƒ€ì„ìŠ¤íƒ­ ì˜¤ì°¨ ë²”ìœ„: Â±2ì´ˆ (ë„¤íŠ¸ì›Œí¬ ì§€ì—° ê³ ë ¤)
â””â”€ ë²”ìœ„ ì´ˆê³¼: ì‹œê°„ ì´ˆê³¼ë¡œ ê°„ì£¼
```

### ğŸ”„ ë°ì´í„° ì¶©ëŒ ì²˜ë¦¬

```
ê²½ìš° 1: ë‘ í”Œë ˆì´ì–´ê°€ ë™ì‹œì— ë‹¤ë¥¸ ëª…ë ¹ ì „ì†¡
â”œâ”€ ì„œë²„: ë‘ ë©”ì‹œì§€ ëª¨ë‘ ìˆ˜ì‹ 
â”œâ”€ ì²˜ë¦¬: íƒ€ì„ìŠ¤íƒ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
â””â”€ ê²°ê³¼: ì¶©ëŒ ì—†ìŒ (ë™ì‹œ í–‰ë™ì´ë¯€ë¡œ)

ê²½ìš° 2: í•œ í”Œë ˆì´ì–´ì˜ ë©”ì‹œì§€ê°€ ì§€ì—°ë¨
â”œâ”€ ì„œë²„: 10ì´ˆ í›„ ìë™ ì™„ë£Œ
â”œâ”€ ì§€ì—°ëœ ë©”ì‹œì§€ ë„ì°©: ë¬´ì‹œ (ì´ë¯¸ í„´ ì™„ë£Œ)
â””â”€ ê²°ê³¼: ë¬¸ì œ ì—†ìŒ

ê²½ìš° 3: í”Œë ˆì´ì–´ ê°„ ìƒíƒœ ë¶ˆì¼ì¹˜
â”œâ”€ Server: Enemy HP 100
â”œâ”€ Player A: Enemy HP 105 (ì˜¤ë˜ëœ ì •ë³´)
â”œâ”€ Player B: Enemy HP 100 (ìµœì‹ )
â””â”€ í•´ê²°: ì„œë²„ ìƒíƒœë¥¼ ì •ë‹µìœ¼ë¡œ ì·¨ê¸‰
```

### ğŸ“¡ ë„¤íŠ¸ì›Œí¬ ìµœì í™”

```
ì „ì†¡ ë¹ˆë„:
â”œâ”€ í„´ ì‹œì‘: 1íšŒ (Game State ì „ì†¡)
â”œâ”€ í”Œë ˆì´ì–´ í–‰ë™: í•„ìš” ì‹œë§Œ (Player A ì„ íƒ â†’ ì „ì†¡)
â”œâ”€ í„´ ì¢…ë£Œ: 1íšŒ (Turn Result ì „ì†¡)
â””â”€ ì´: í„´ ë‹¹ í‰ê·  3-4íšŒ ë©”ì‹œì§€

ë©”ì‹œì§€ í¬ê¸°:
â”œâ”€ Game State: ~500 bytes
â”œâ”€ Player Action: ~200 bytes
â”œâ”€ Turn Result: ~800 bytes
â””â”€ ì´: ~1.5 KB / í„´

ëŒ€ì—­í­ (10ì´ˆ/í„´ ê¸°ì¤€):
â”œâ”€ 1ê°œ íŒŒí‹°: ~150 bytes/ì´ˆ (ë§¤ìš° ê°€ë²¼ì›€)
â”œâ”€ 100ê°œ íŒŒí‹°: 15 KB/ì´ˆ (1 Mbps ì„œë²„ë¡œ ì¶©ë¶„)
â””â”€ ê²°ë¡ : ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ê±°ì˜ ì—†ìŒ
```

---

## 6. ì—ëŸ¬ ì²˜ë¦¬

### âš ï¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ëŠê¹€

```
[Connection Lost]
   â†“
Client: ìë™ ì¬ì—°ê²° ì‹œë„ (3íšŒ)
â”œâ”€ ì‹œë„ 1: ì¦‰ì‹œ
â”œâ”€ ì‹œë„ 2: 3ì´ˆ í›„
â””â”€ ì‹œë„ 3: 10ì´ˆ í›„
   â†“
ì„±ê³µ: ì „íˆ¬ ê³„ì†
ì‹¤íŒ¨: íŒŒí‹° í•´ì‚° (ë‹¤ë¥¸ í”Œë ˆì´ì–´ì—ê²Œ ì•Œë¦¼)
```

### âŒ í”Œë ˆì´ì–´ íƒ€ì„ì•„ì›ƒ

```
[Player Not Responding]
   â†“
Client: WebSocket í—¤íŠ¸ë¹„íŠ¸ ì—†ìŒ (10ì´ˆ ì´ìƒ)
   â†“
Server: í”Œë ˆì´ì–´ ì˜¤í”„ë¼ì¸ ìƒíƒœë¡œ ì „í™˜
   â†“
Action Phase ê³„ì† ì§„í–‰
â”œâ”€ íƒ€ì„ì•„ì›ƒ í”Œë ˆì´ì–´: "ë°©ì–´" ìë™ ì„ íƒ
â”œâ”€ ë‹¤ë¥¸ í”Œë ˆì´ì–´: ê³„ì† í”Œë ˆì´ (í˜¼ì ì „íˆ¬)
â””â”€ 30ì´ˆ í›„: íŒŒí‹° í•´ì‚° (ì¸ê²Œì„ ë³´ìƒ ì œê³µ)
```

### ğŸš« ë¶€ì • í–‰ìœ„ íƒì§€

```
[Suspicious Behavior]
   â”œâ”€ ê°™ì€ í„´ì— 2ê°œ ì´ìƒì˜ ìŠ¤í‚¬ ì„ íƒ
   â”œâ”€ ë¶ˆê°€ëŠ¥í•œ ì¡°í•© (MP ë¶€ì¡±í•œë° ì‚¬ìš©)
   â”œâ”€ ì‹œê°„ ì—­í–‰ (ê³¼ê±° íƒ€ì„ìŠ¤íƒˆí”„ ì „ì†¡)
   â””â”€ ì•¡ì…˜ ëˆ„ìˆ˜ (ì—†ëŠ” ì  ê³µê²©)
   â†“
Server Action:
â”œâ”€ ë¡œê·¸ ê¸°ë¡
â”œâ”€ í”Œë ˆì´ì–´ì—ê²Œ ê²½ê³ 
â””â”€ 3íšŒ ìœ„ë°˜ ì‹œ: ê²Œì„ ë³´ë¥˜ (ê´€ë¦¬ì ê²€í† )
```

---

## ğŸ“Š ì„±ëŠ¥ ëª©í‘œ

| í•­ëª© | ëª©í‘œ | ë‹¬ì„± | ë¹„ê³  |
|------|------|------|------|
| ë©”ì‹œì§€ ì§€ì—° | < 200ms | âœ… | ë¡œì»¬ í…ŒìŠ¤íŠ¸ |
| í„´ ì²˜ë¦¬ ì‹œê°„ | < 100ms | âœ… | ì„œë²„ ê³„ì‚° |
| ë™ì‹œ ì ‘ì† | 100 íŒŒí‹° | ğŸ”„ | í…ŒìŠ¤íŠ¸ í•„ìš” |
| ë©”ëª¨ë¦¬ ì‚¬ìš© | < 50MB/í´ë¼ì´ì–¸íŠ¸ | âœ… | MVP ê¸°ì¤€ |

---

**ìƒíƒœ**: ğŸŸ¢ MVP í”„ë¡œí† ì½œ ì •ì˜ ì™„ë£Œ
**ë‹´ë‹¹ì**: PM (ë£¨ë¯¸)
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-05
